(()=>{"use strict";const e=window.wp.blocks;function t(e){var o,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(o=0;o<s;o++)e[o]&&(n=t(e[o]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const o=function(){for(var e,o,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(o=t(e))&&(r&&(r+=" "),r+=o);return r},n=window.wp.i18n,r=window.wp.blockEditor,s=window.wp.data,a=window.wp.components,l=window.wp.element,i=window.ReactJSXRuntime,c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"wa/copyright-date-block","version":"0.1.0","title":"Copyright Date Block","icon":"calendar","category":"widgets","description":"Display your site\'s copyright date.","example":{},"keywords":["wa"],"allowedBlocks":["core/paragraph","core/heading","core/form-input","core/form-submit-button","core/form-submission-notification","core/group","core/columns"],"attributes":{"placeholder":{"type":"string","default":"All Rights Reserved"},"align":{"type":"string","default":"full"},"content":{"type":"string","role":"content"},"showTitleFirst":{"type":"boolean","default":true},"showTM":{"type":"boolean","default":true},"showIcon":{"type":"boolean","default":true},"fallbackCurrentYear":{"type":"string"},"showStartingYear":{"type":"boolean"},"startingYear":{"type":"string"}},"supports":{"color":{"background":false,"text":true},"align":["wide","full"],"html":false,"typography":{"fontSize":true}},"textdomain":"wa","editorScript":"file:./index.jsx","editorStyle":"file:./editor.css","style":"file:./app.css"}'),{name:h}=c,g={edit:function(e){const{mergeBlocks:t,onReplace:c,onRemove:h,attributes:g,attributes:{showTitleFirst:p,align:w,content:d,showIcon:u,showTM:f,fallbackCurrentYear:m,showStartingYear:k,startingYear:y,placeholder:b},setAttributes:x,clientId:j}=e,C=(new Date).getFullYear().toString();let S;(0,l.useEffect)(()=>{""!=y&&y||x({startingYear:C}),C!==m&&x({fallbackCurrentYear:C})},[C,m,x]),S=k&&y?y+"–"+C:C;const B=(0,r.useBlockProps)({className:o("wa-block-copyright",{[`has-text-align-${w}`]:w})}),{hasInnerBlocks:T}=(0,s.useSelect)(e=>{const{getBlock:t}=e(r.store),o=t(j);return{hasInnerBlocks:!(!o||!o.innerBlocks.length)}},[j]),v=(0,r.useInnerBlocksProps)({...B,className:o("wa-copyright-inner-content")},{template:[["core/site-title",{className:"site-title"}]],renderAppender:T?void 0:r.InnerBlocks.ButtonBlockAppender}),Y=(0,i.jsxs)("span",{children:[u&&"© ",f&&(0,i.jsx)("small",{children:"™ "}),S]});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.BlockControls,{group:"block",children:(0,i.jsx)(r.AlignmentControl,{value:w,onChange:e=>x({align:e})})}),(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(a.PanelBody,{title:(0,n.__)("Settings","watheme"),children:[(0,i.jsx)(a.ToggleControl,{checked:p,label:(0,n.__)("Show Site Title First","watheme"),onChange:()=>x({showTitleFirst:!p})}),(0,i.jsx)(a.ToggleControl,{checked:u,label:(0,n.__)("Show ©","watheme"),onChange:()=>x({showIcon:!u})}),(0,i.jsx)(a.ToggleControl,{checked:f,label:(0,n.__)("Show TM","watheme"),onChange:()=>x({showTM:!f})}),(0,i.jsx)(a.ToggleControl,{checked:k,label:(0,n.__)("Show starting year","watheme"),onChange:()=>x({showStartingYear:!k})}),k&&(0,i.jsx)(a.TextControl,{label:(0,n.__)("Starting year","watheme"),value:y,onChange:e=>x({startingYear:e})})]})}),(0,i.jsxs)("div",{...B,children:[!p&&Y,(0,i.jsx)("div",{...v}),!!p&&Y]})]})},save:function({attributes:e}){const{fallbackCurrentYear:t,align:o,showStartingYear:n,startingYear:s,showIcon:a,showTM:l,showTitleFirst:c}=e,h=r.useBlockProps.save({className:o?`has-text-align-${o}`:""});if(!t)return null;let g;g=n&&s?s+"–"+t:t;const p=r.useInnerBlocksProps.save({className:"wa-copyright-inner-content"}),w=(0,i.jsxs)("span",{children:[a&&"© ",l&&(0,i.jsx)("small",{children:"™ "}),g]});return(0,i.jsxs)("div",{...h,children:[!c&&w,(0,i.jsx)("span",{...p}),!!c&&w]})}};(0,e.registerBlockType)({name:h,...c},g)})();